auditlog  = "./examples/auditlog.ldif"
timestamp = "cn=timestamp,dc=source"

directories = ["default"]

target {
    uri      = "ldaps://localhost:389"
    base     = "dc=target"
    binddn   = "cn=admin,dc=source"
    password = "secret"
    ignore {
        dn = [ "ou=import,ou=users,dc=target"
             , "ou=import,ou=groups,dc=target"
             , "cn=vip,ou=members,dc=target"
             ]
        attr = [
              ["ou=users,dc=source"
              , "(mail:.*)@example.com", "\\1@raboof.com"]
            , ["cn=Robert Smith,ou=users,dc=source"
              , "ou: Human *Resources", "ou: Human"]
            ]
    }
}

default {
    source {
        uri      = "ldaps://localhost:389"
        binddn   = "cn=admin,dc=source"
        base     = "dc=source"
        password = "secret"
        ignore {
            dn = [ "ou=users,dc=source"
                 , "ou=groups,dc=source"
                 , "cn=user,ou=members,dc=source"
                 ]
            attr = [
                  ["ou=users,dc=source"
                  , "(mail:.*)@example.com", "\\1@raboof.com"]
                , ["cn=Robert Smith,ou=users,dc=source"
                  , "ou: Human *Resources", "ou: Human"]
                ]
        }
    }

    rewrite {
        dn = [
              ["ou=users,dc=source", "ou=import,ou=users,dc=target"]
            , ["ou=groups,dc=source", "ou=import,ou=groups,dc=target"]
            , ["cn=user,ou=members,dc=source", "cn=vip,ou=members,dc=target"]
            ]
        attr = [
              ["ou=users,dc=source"
              , "(mail:.*)@example.com", "\\1@raboof.com"]
            , ["cn=Robert Smith,ou=users,dc=source"
              , "ou: Human *Resources", "ou: Human"]
            ]
    }
}
